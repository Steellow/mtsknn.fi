include ./_mixins.pug

doctype html
html(lang="en")
  head
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title #{metaTitle || title} !{'&ndash;'} mts knn .fi
    link(rel="canonical" href=`${site.url}${page.url}`)
    if (metaDescription || '').trim()
      meta(name="description" content=metaDescription.trim())

    //Favicon formats generated with https://realfavicongenerator.net/ üëç
    link(rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png")
    link(rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png")
    link(rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png")
    link(rel="manifest" href="/site.webmanifest")
    link(rel="mask-icon" href="/safari-pinned-tab.svg" color="#fc8181")
    meta(name="theme-color" content="#fc8181")

    link(rel="stylesheet" href="/main.css")

    link(
      rel="alternate"
      type="application/atom+xml"
      href="/blog/feed.xml"
      title=`Blog ${entity.ndash} Matias Kinnunen`
    )
    link(
      rel="alternate"
      type="application/json+feed"
      href="/blog/feed.json"
      title=`Blog ${entity.ndash} Matias Kinnunen`
    )
  body#top.bg-gray-50.break-words.font-sans(
    class={ 'debug-screens': process.env.NODE_ENV === 'development' }
  )
    .max-w-4xl.mx-auto.p-6
      header.border-b.border-gray-300.pb-6
        +skipLink('Skip to content', '#main', 'main-skip-link xl:!mr-6')

        nav.flex.justify-between(aria-label="Main navigation")
          a.duration-150.font-bold.font-mono.transition-colors(
            aria-label=`mtsknn dot f i ${entity.ndash} go to the front page.`
            class="hover:text-red-600 active:text-red-700 xl:text-lg"
            href="/"
          )
            //- Even though the link has an `aria-label`, VoiceOver on iPad
            //- would sometimes choose one of the two texts below and read it
            //- instead of the `aria-label`. Thus the `aria-hidden` is required
            //- even though it seems redundant.
            span(aria-hidden="true")
              if page.url === '/'
                | üë®‚Äçüíª&nbsp;m
                span.logo-character a
                | t
                span.logo-character.logo-character--length-2 ia
                | s
                span.logo-character &nbsp;
                | k
                span.logo-character i
                | nn
                span.logo-character.logo-character--length-4 unen
                span.logo-domain-extension .fi
              else
                | üë®‚Äçüíª&nbsp;mtsknn
                span.opacity-50 .fi

          a.duration-150.h-6.text-gray-500.transition-colors.w-6(
            aria-label="RSS feed (opens in a new window)"
            class="hover:text-red-600 active:text-red-800 xl:mt-px"
            href="/blog/feed.xml"
            target="_blank"
          )
            //`rss` icon by Heroicons (https://heroicons.com/), MIT Licensed
            svg.align-top.inline-block(
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              style={width: '1.5rem'}
              viewBox="0 0 24 24"
            )
              title RSS feed
              path(
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"
              )
      main#main.mb-6.pt-6(class="md:mb-12 md:pt-12")
        block content
          .prose(class="xl:prose-lg")!= content
      footer.border-t.border-gray-300.flex.items-baseline.justify-between.pt-6.text-gray-700.text-sm(
        class="xl:text-base"
      )
        .text-left
          span(aria-hidden="true") üì£#{' '}
          | Let's talk !{'&ndash;'} send a mail to#{' '}
          a.link.text-gray-800(
            aria-label="my email address: blog@mtsknn.fi"
            href="mailto:blog@mtsknn.fi"
          ) blog@mtsknn.fi
          span(aria-hidden="true") !
        a.duration-150.ml-4.transition-opacity(
          aria-label="Scroll to top"
          class="hover:opacity-75"
          href="#top"
        )
          span(aria-hidden="true" title="Scroll to top") üëÜ
